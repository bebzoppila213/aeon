Я не поинмаю как мне сделать асинхронную авторизацию на куках, да можно из js делать запрос и ложить всё в куки, но это отвратно как по мне, я сделал на токенах
В базе хранится 2 таблицы, таблица пользователей и таблица с токенами
таблица с токенами содержит токен и время окончания токена
Когда пользователь авторизуется для него генерируется токен и время действия токена (2 часа)
Пользователю отдаётся токен и в запросах он должен его использовать